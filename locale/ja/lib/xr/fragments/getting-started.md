XRカテゴリを使用すると、アプリケーション内の拡張現実(AR)および仮想現実(VR)コンテンツを使用できます。 XRカテゴリには、Amazon Sumerianのサポートが組み込まれています。

## シーンを公開
To download the required scene configuration for your Sumerian scene, visit <a href="https://console.aws.amazon.com/sumerianv2/home" target="_blank">Amazon Sumerian console</a>, create or open the scene you would like to use with AWS Amplify, click *Publish* dropdown from the top right corner of the Sumerian console, then click *Host privately*:

<amplify-callout>

シーンがすでに公開されている場合は、以下の手順で公開を解除し、再度公開する必要があります。

</amplify-callout>

<br />

![XR](~/images/xr/sumerian_host_privately_button.png)

次のダイアログが表示されます。 *公開* ボタンをクリックします。 ![XR](~/images/xr/sumerian_publish_button.png)

次に、 *JSON 設定のダウンロード* ボタンをクリックして、AWS Amplify 内でシーンの設定に使用されるシーン設定 JSON をダウンロードします。 ![XR](~/images/xr/amplify_published_dialog.png)

## バックエンドのセットアップ

> [がインストールされ、Amplify CLIとライブラリが設定されていることを確認してください](~/start/start.md)

```bash
増幅して xr を追加
```
CLI はシーン名識別子や Sumerian シーンの json 構成ファイルなどの XR カテゴリの設定オプションをプロンプトします。

XRカテゴリは認証カテゴリを設定してシーン認証を設定します。

CLI プロンプトで指定したシーン名を確認します。 この値は、フレームワークでXRカテゴリを使用する場合にシーンの識別子として使用されます。

XRオプションを設定したら、バックエンドを次のように更新します。
```
$ amplify push
```
XR resources shown during `amplify push` represent the IAM policy being created for the scene. This will not change the scene shown in the Sumerian console. To learn more about Sumerian scene authorization visit <a href="https://docs.aws.amazon.com/sumerian/latest/userguide/sumerian-permissions.html" target="_blank">Amazon Sumerian Permissions</a>

A configuration file called `aws-exports.js` will be copied to your configured source directory, for example `./src`. This file will contain a list of all scenes that you configure.

## 既存の XR リソースをインポート

XRカテゴリを構成するために、次のコードをアプリケーションに追加してください:
```javascript
import Amplify from 'aws-amplify';
import awsconfig from './aws-exports';
import scene1Config from './sumerian_exports_<sceneId>'; // This file will be generated by the Sumerian AWS Console 

Amplify.configure({
  ...awsconfig,
  XR: { // XR category configuration
    region: 'us-west-2', // Sumerian region
    scenes: { 
      "scene1": { // Friendly scene name
        sceneConfig: scene1Config // Scene configuration from Sumerian publish
      }
    }
  }
});
```

オプションのパブリッシュパラメータをシーン設定に追加できます。
```javascript
XR.configure({ // XR category configuration
  region: 'us-west-2', // Sumerian region
  scenes: { 
    "scene1": { // Friendly scene name
      sceneConfig: scene1Config // Scene configuration from Sumerian publish
      publishParamOverrides: { alpha: true } // Optional publish parameters
    }
  }
});
```

## フロントエンドの設定

```javascript
import Amplify, { XR } from 'aws-amply';
import awsconfig from './aws-exports';

Amplify.configure(awsconfig);
```

Amplifyプロジェクトの `amplify xr` をAmplifyタイプで `amplify xr help` を使用する方法の詳細については、こちらをご覧ください。

## シーンの使用

The XR Category allows a Sumerian scene to be rendered into an DIV HTML element with `loadScene` method. When the scene has been loaded the *XR.start()* method will start the scene. To render the scene, pass your scene name and the id of the element in the method call:

```javascript
// Load scene with sceneName: "scene1" into dom element id: "sumerian-scene-dom-id"
async loadAndStartScene() {
    await XR.loadScene("scene1", "sumerian-scene-dom-id");
    XR.start("scene1");
}

// HTML
<div id="sumerian-scene-dom-id"></div>
```

さらに、 [シュメールシーン UI コンポーネント](~/lib/xr/sceneapi.md#ui-components) をすぐに使えるUIソリューションにも使用できます。

## APIリファレンス

完全な XR リファレンスについては、 [API リファレンス](https://aws-amplify.github.io/amplify-js/api/classes/xr.html) を参照してください。
